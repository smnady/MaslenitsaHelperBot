<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/xhtml" lang="ru">
<head>
    <title>Admin Panel</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
</head>
<body>
<div class="container mt-4">
    <h1 class="mb-4" style="text-align: center">–ë–æ—Ç –ú–∞—Å–ª–µ–Ω–∏—á–Ω—ã–π –ø–æ–º–æ—â–Ω–∏–∫</h1>

    <div class="mb-3">
        <h5>–°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞ –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏—è: <span th:text="${dto.averageEventRating}"></span></h5>
    </div>

    <div class="mb-3">
        <h5>–°—Ä–µ–¥–Ω—è—è –æ—Ü–µ–Ω–∫–∞ –±–ª–∏–Ω–æ–≤: <span th:text="${dto.averagePancakesRating}"></span></h5>
    </div>


    <h2>üë§ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ - <span th:text="${dto.users.size()}"></span></h2>
    <table class="table table-bordered">
        <thead>
        <tr>
            <th>Telegram</th>
            <th>–ò–º—è</th>
            <th>–î–∞—Ç–∞ –ø–µ—Ä–≤–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="user : ${dto.users}">
            <td th:text="${'@' + user.username}"></td>
            <td th:text="${user.firstName + ' ' + user.lastName}"></td>
            <td th:text="${#temporals.format(user.firstLoginDate, 'dd.MM.yyyy HH:mm')}"></td>

        </tr>
        </tbody>
    </table>

    <h2>üìù –û—Ç–∑—ã–≤—ã - <span th:text="${dto.feedbacks.size()}"></span></h2>
    <table class="table table-bordered">
        <thead>
        <tr>
            <th>Telegram</th>
            <th>–ò–º—è</th>
            <th>–û—Ü–µ–Ω–∫–∞ —Å–æ–±—ã—Ç–∏—è</th>
            <th>–û—Ü–µ–Ω–∫–∞ –±–ª–∏–Ω–æ–≤</th>
            <th>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</th>
            <th>–î–∞—Ç–∞ –æ—Ç–∑—ã–≤–∞</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="feedback : ${dto.feedbacks}">
            <td th:text="${'@' + feedback.user.username}"></td>
            <td th:text="${feedback.user.firstName + ' ' + feedback.user.lastName}"></td>
            <td th:text="${feedback.eventRating}"></td>
            <td th:text="${feedback.pancakesRating}"></td>
            <td th:text="${feedback.comment}"></td>
            <td th:text="${#temporals.format(feedback.createdAt, 'dd.MM.yyyy HH:mm')}"></td>

        </tr>
        </tbody>
    </table>

    <a href="/admin/logout" class="btn btn-danger mt-3">–í—ã–π—Ç–∏</a>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

